#include <glib.h>
#include <gtk/gtk.h>
#include "timer.hpp"

namespace __timer__ {

str *__name__;


/**
class Timer
*/

class_ *cl_Timer_0;

__ss_bool Timer::fire_timer() {
    return True;
}

static gboolean fire_timer_1(gpointer user_data) {
  ((Timer*) user_data)->fire_timer();
  return TRUE;
}

__ss_int timeout_add(__ss_int timeout_ms, Timer *obj) {
  g_timeout_add(timeout_ms, fire_timer_1, obj);
  gtk_main(); // HACK
}

void __init() {
    __name__ = new str("timer");

    cl_Timer_0 = new class_("Timer_0", 45, 46);
}

} // module namespace

